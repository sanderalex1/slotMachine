<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="style.css" />
  <script src="app.js" defer></script>
  <script defer>
    let bet = 1;
    let balance = 100;
    let pl = 0;

    let elements

    setTimeout(() => {
      elements = {
        win: document.getElementById("win"),
        balance: document.getElementById("balance"),
        bet: document.getElementById("bet"),
        spin: document.getElementById("spin"),

        cherriesPayout: document.getElementById("cherriesPayout"),
        bananasPayout: document.getElementById("bananasPayout"),
        grapesPayout: document.getElementById("grapesPayout"),
        watermelonsPayout: document.getElementById("watermelonsPayout"),
        bellsPayout: document.getElementById("bellsPayout"),
        lucky7sPayout: document.getElementById("lucky7sPayout"),
        starsPayout: document.getElementById("starsPayout"),
      };
      console.log(elements);
    }, 1);

    function symbolValue(symbol) {
      return 1 + Math.floor(Math.random() * 10);
    }

    function updatePayoutTable() {
      elements.cherriesPayout.textContent = symbolValue("cherries");
      elements.bananasPayout.textContent = symbolValue("bananas");
      elements.grapesPayout.textContent = symbolValue("grapes");
      elements.watermelonsPayout.textContent = symbolValue("watermelons");
      elements.bellsPayout.textContent = symbolValue("bells");
      elements.lucky7sPayout.textContent = symbolValue("lucky7s");
      elements.starsPayout.textContent = symbolValue("stars");
    }

    function handleIncreaseBet() {
      bet++;
      if (bet > 10) bet = 1;
      elements.bet.textContent = bet;
      updatePayoutTable();
    }

    async function handleSpin() {
      elements.spin.disabled = true;
      const result = spin();

      // Do the reels animation
      const reels = document.querySelectorAll(".reel");
      reels.forEach(reel => {
        reel.style.transform = `translateY(${Math.random() * 100}px)`;
      });
      setTimeout(() => {
        reels.forEach(reel => {
          reel.style.transform = `translateY(0)`;
        });
      }, 1000);
      // Wait for the reels animation to finish
      await new Promise(resolve => setTimeout(resolve, 1000));

      setTimeout(() => {
        handleSpin(result);
        elements.spin.disabled = false;
      }, 1000);

      /// Handle Spin payout
      let payout = 0;
      let isWinner = isWinner(result);
      win.textContent = "";
      if (isWinner) {
        payout = bet * symbolValue(result[0]);
        balance += payout;
        win.textContent = payout;
      }
    }

    function isWinner() {
      return false;
    }

    updatePayoutTable();
  </script>
</head>

<body>
  <main>
    <section class="slot-machine-payout-table">
      <h2>Payout Table</h2>
      <table>
        <thead>
          <tr>
            <th>Symbol</th>
            <th>Payout</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/cherries.webp" alt="Cherries">
                <img class="symbol symbol--blur" src="img/cherries-blur.webp" alt="Cherries blurred" aria-hidden="true">
              </div>
              <span class="symbol-label">Cherries</span>
            </td>
            <td class="payout"><span id="cherriesPayout">0</span></td>
          </tr>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/bananas.webp" alt="Bananas">
                <img class="symbol symbol--blur" src="img/bananas-blur.webp" alt="Bananas blurred" aria-hidden="true">
              </div>
              <span class="symbol-label">Bananas</span>
            </td>
            <td class="payout"><span id="bananasPayout">0</span></td>
          </tr>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/grapes.webp" alt="Grapes">
                <img class="symbol symbol--blur" src="img/grapes-blur.webp" alt="Grapes blurred" aria-hidden="true">
              </div>
              <span class="symbol-label">Grapes</span>
            </td>
            <td class="payout"><span id="grapesPayout">0</span></td>
          </tr>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/watermelon.webp" alt="Watermelons">
                <img class="symbol symbol--blur" src="img/watermelon-blur.webp" alt="Watermelons blurred"
                  aria-hidden="true">
              </div>
              <span class="symbol-label">Watermelons</span>
            </td>
            <td class="payout"><span id="watermelonsPayout">0</span></td>
          </tr>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/bells.webp" alt="Bells">
                <img class="symbol symbol--blur" src="img/bells-blur.webp" alt="Bells blurred" aria-hidden="true">
              </div>
              <span class="symbol-label">Bells</span>
            </td>
            <td class="payout"><span id="bellsPayout">0</span></td>
          </tr>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/lucky7s.webp" alt="Lucky-7s">
                <img class="symbol symbol--blur" src="img/lucky7s-blur.webp" alt="Lucky-7s blurred" aria-hidden="true">
              </div>
              <span class="symbol-label">Lucky-7s</span>
            </td>
            <td class="payout"><span id="lucky7sPayout">0</span></td>
          </tr>
          <tr>
            <td class="symbol-cell">
              <div class="symbol-wrap">
                <img class="symbol symbol--normal" src="img/stars.webp" alt="Stars">
                <img class="symbol symbol--blur" src="img/stars-blur.webp" alt="Stars blurred" aria-hidden="true">
              </div>
              <span class="symbol-label">Stars</span>
            </td>
            <td class="payout"><span id="starsPayout">0</span></td>
          </tr>
        </tbody>
      </table>
    </section>


    <section class="slot-machine-reels">
      <div class="reel">
        <div class="slot">
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/cherries.webp" alt="Cherries"><img
              class="symbol symbol--blur" src="img/cherries-blur.webp" alt="Cherries blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/bananas.webp" alt="Bananas"><img
              class="symbol symbol--blur" src="img/bananas-blur.webp" alt="Bananas blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/grapes.webp" alt="Grapes"><img
              class="symbol symbol--blur" src="img/grapes-blur.webp" alt="Grapes blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/watermelon.webp" alt="Watermelons"><img
              class="symbol symbol--blur" src="img/watermelon-blur.webp" alt="Watermelons blurred" aria-hidden="true">
          </div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/bells.webp" alt="Bells"><img
              class="symbol symbol--blur" src="img/bells-blur.webp" alt="Bells blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/lucky7s.webp" alt="Lucky-7s"><img
              class="symbol symbol--blur" src="img/lucky7s-blur.webp" alt="Lucky-7s blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/stars.webp" alt="Stars"><img
              class="symbol symbol--blur" src="img/stars-blur.webp" alt="Stars blurred" aria-hidden="true"></div>
        </div>
      </div>
      <div class="reel">
        <div class="slot">
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/grapes.webp" alt="Grapes"><img
              class="symbol symbol--blur" src="img/grapes-blur.webp" alt="Grapes blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/stars.webp" alt="Stars"><img
              class="symbol symbol--blur" src="img/stars-blur.webp" alt="Stars blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/lucky7s.webp" alt="Lucky-7s"><img
              class="symbol symbol--blur" src="img/lucky7s-blur.webp" alt="Lucky-7s blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/bells.webp" alt="Bells"><img
              class="symbol symbol--blur" src="img/bells-blur.webp" alt="Bells blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/watermelon.webp" alt="Watermelons"><img
              class="symbol symbol--blur" src="img/watermelon-blur.webp" alt="Watermelons blurred" aria-hidden="true">
          </div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/bananas.webp" alt="Bananas"><img
              class="symbol symbol--blur" src="img/bananas-blur.webp" alt="Bananas blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/cherries.webp" alt="Cherries"><img
              class="symbol symbol--blur" src="img/cherries-blur.webp" alt="Cherries blurred" aria-hidden="true"></div>
        </div>
      </div>
      <div class="reel">
        <div class="slot">
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/stars.webp" alt="Stars"><img
              class="symbol symbol--blur" src="img/stars-blur.webp" alt="Stars blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/bells.webp" alt="Bells"><img
              class="symbol symbol--blur" src="img/bells-blur.webp" alt="Bells blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/watermelon.webp" alt="Watermelons"><img
              class="symbol symbol--blur" src="img/watermelon-blur.webp" alt="Watermelons blurred" aria-hidden="true">
          </div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/grapes.webp" alt="Grapes"><img
              class="symbol symbol--blur" src="img/grapes-blur.webp" alt="Grapes blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/bananas.webp" alt="Bananas"><img
              class="symbol symbol--blur" src="img/bananas-blur.webp" alt="Bananas blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/cherries.webp" alt="Cherries"><img
              class="symbol symbol--blur" src="img/cherries-blur.webp" alt="Cherries blurred" aria-hidden="true"></div>
          <div class="symbol-wrap"><img class="symbol symbol--normal" src="img/lucky7s.webp" alt="Lucky-7s"><img
              class="symbol symbol--blur" src="img/lucky7s-blur.webp" alt="Lucky-7s blurred" aria-hidden="true"></div>
        </div>
      </div>
    </section>


    <section class="slot-machine-bottom-row">
      <div class="balance">
        <p>Balance: <span id="balance">100</span></p>
        <p>Bet: <span id="bet">1</span></p>
        <p>Win: <span id="win"></span></p>
      </div>

      <button class="btn" onclick="handleIncreaseBet()">Increase Bet</button>
      <button class="btn" onclick="handleSpin()" id="spin">Spin</button>
    </section>
  </main>
</body>

</html>